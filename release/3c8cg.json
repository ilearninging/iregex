{"id":"182512","urlID":"3c8cg","name":"mock","description":"asdas","content":"using System.Collections.Generic;\nusing System.Linq;\nusing Videos.Data.Repositories;\n\nnamespace Videos.Tests.UnitTests\n{\n    using Data.UnitOfWork;\n    using Models;\n    using Moq;\n\n    public class MockContainer\n    {\n        public Mock<IVideosData> MockData { get; set; }\n\n        public Mock<IRepository<Video>> VideoMock{ get; set; }\n\n        public Mock<IRepository<Location>> LocationMock { get; set; }\n\n\n        public void SetupMocks()\n        {\n            var fakeLocations = new[]\n            {\n                new Location()\n                {\n                    Id = 20,\n                    CountryName = \"Bulgaria\",\n                    CityName = \"Sofia\"\n                },\n                new Location()\n                {\n                    Id = 21,\n                    CountryName = \"Bulgaria\",\n                    CityName = \"Plovdiv\"\n                },\n            };\n\n            var fakeVideos = new[]\n            {\n                new Video()\n                {\n                    Location = fakeLocations[0],\n                    Id = 20,\n                    Title = \"MnTapoVideo\"\n                },\n                new Video()\n                {\n                    Location = fakeLocations[1],\n                    Id = 21,\n                    Title = \"Osht Po Tapo Video\",\n                }, \n            };\n\n            this.PrepareFakeLocations(fakeLocations);\n\n            this.PrepareFakeVideos(fakeVideos);\n\n            this.PrepareFakeData();\n        }\n\n        private void PrepareFakeData()\n        {\n            this.MockData = new Mock<IVideosData>();\n\n            this.MockData.Setup(d => d.Videos)\n                .Returns(this.VideoMock.Object);\n\n            this.MockData.Setup(d => d.Locations)\n                .Returns(this.LocationMock.Object);\n        }\n\n        private void PrepareFakeLocations(IEnumerable<Location> locations)\n        {\n            this.LocationMock = new Mock<IRepository<Location>>();\n            this.LocationMock.Setup(r => r.All())\n                .Returns(locations.AsQueryable());\n        }\n\n        private void PrepareFakeVideos(IEnumerable<Video> videos)\n        {\n            this.VideoMock = new Mock<IRepository<Video>>();\n            this.VideoMock.Setup(r => r.All())\n                .Returns(videos.AsQueryable());\n        }\n    }\n}\n","weightedVote":"2.5","numVotes":"0","author":"asdas","community":"1","dateAdded":"2015-11-19","pattern":"\/([A-Z])\\w+\/g","replace":"","state":"{\"substEnabled\":false}"}